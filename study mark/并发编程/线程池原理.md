线程池是一种并发编程的技术，用于有效地管理和复用线程资源。它由一组预先创建的线程组成，这些线程可以在需要时执行任务，并在任务完成后返回线程池中等待下一个任务。

线程池的主要目的是避免反复创建和销毁线程的开销，以及有效地控制并发线程的数量。通过使用线程池，可以降低系统的负载，并提高任务执行的效率。

## 线程池的一些关键特点
线程池包含一个线程队列和任务队列，任务队列用于存储待执行的任务。
线程池在启动时会创建一定数量的线程，并将它们放入线程队列中。
当有任务需要执行时，线程池从任务队列中获取任务，并将其分配给空闲的线程执行。
执行完任务的线程会继续等待下一个任务的到来，而不是被销毁。
如果任务队列为空，线程池中的线程可以进入睡眠状态，减少资源占用。
*线程池可以限制同时执行的线程数量，避免过多的并发线程导致系统负载过高。*

## 使用线程池有以下几个优点：

提高性能：通过复用线程，避免了线程创建和销毁的开销，提高了任务执行的效率。
资源控制：线程池可以限制并发线程的数量，避免系统负载过高，保护系统资源。
提高响应性：线程池可以在任务到来时立即进行处理，减少了任务等待的时间，提高了系统的响应速度。
简化编程：使用线程池可以将任务的提交和执行分离，简化了并发编程的复杂性。

需要注意的是，在使用线程池时，需要合理设置线程池的大小，避免线程过多导致资源浪费，或线程过少导致任务等待的时间过长。


# 线程池实现
函数内局部的静态变量，其生命周期和进程同步，但是可见度仅在函数内部。
局部静态变量只会在第一次调用这个函数时初始化一次。故可以作为单例模式

## std::packaged_task
*package_task只能移动构造函数，不能复制构造函数*
std::packaged_task 是 C++ 标准库中用于异步任务处理的一个工具。std::packaged_task 可以包装一个可调用对象（如函数、lambda 表达式等），并且当这个可调用对象被调用时，它会计算结果并将结果存储在一个 std::future 对象中，以便稍后获取
含头文件：确保包含了 <future> 和 <functional> 头文件。

#include <future>
#include <functional>